{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Smartphone Product Datasheet",
  "type": "object",
  "properties": {
    "product": {
      "type": "object",
      "properties": {
        "brand": { "type": "string" },
        "modelId": { "type": "string" },
        "deviceType": { "type": "string", "enum": ["Smartphone", "Slate Tablet"] },
        "operatingSystem": { "type": "string" }
      },
      "required": ["brand", "modelId", "deviceType"]
    },
    "energy": {
      "type": "object",
      "properties": {
        "efficiencyClass": { "type": "string", "pattern": "^[A-G]$" },
        "battery": {
          "type": "object",
          "properties": {
            "userReplaceable": { "type": "boolean" },
            "runtimeHours": { "type": "number" },
            "lifecycleCycles": { "type": "integer" },
            "capacity_mAh": { "type": "integer" }
          }
        },
        "charger": {
          "type": "object",
          "properties": {
            "requiredPower_W": { "type": "integer" },
            "connectorType": { "type": "string" }
          }
        }
      }
    },
    "durability": {
      "type": "object",
      "properties": {
        "dropTest": {
          "type": "object",
          "properties": {
            "withoutDefect": { "type": "integer" },
            "withoutDefectExtended": { "type": ["integer", "string"], "description": "n.a. allowed" },
            "class": { "type": "string" }
          }
        },
        "ingressProtection": {
          "type": "object",
          "properties": {
            "ipCode": { "type": "string" },
            "waterDepth_m": { "type": "number" }
          }
        },
        "screenHardnessMohs": { "type": "integer" }
      }
    },
    "repairability": {
      "type": "object",
      "properties": {
        "class": { "type": "string" },
        "index": { "type": "number" },
        "subScores": {
          "type": "object",
          "properties": {
            "disassemblyDepth": { "type": "number" },
            "fasteners": { "type": "number" },
            "tools": { "type": "number" },
            "spareParts": { "type": "number" },
            "softwareUpdates": { "type": "number" },
            "repairInfo": { "type": "number" }
          }
        },
        "links": {
          "type": "object",
          "properties": {
            "spareParts": { "type": "string", "format": "uri" },
            "repairInstructions": { "type": "string", "format": "uri" },
            "priceGuidelines": { "type": "string", "format": "uri" }
          }
        }
      }
    },
    "warranty": {
      "type": "object",
      "properties": {
        "osUpdateYears": { "type": "integer" },
        "warrantyMonths": { "type": "integer" }
      }
    },
    "regulatory": {
      "type": "object",
      "properties": {
        "marketEntryDate": { "type": "string", "format": "date" },
        "eprelId": { "type": "string" },
        "eprelLink": { "type": "string", "format": "uri" },
        "supplier": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "address": { "type": "string" },
            "email": { "type": "string", "format": "email" },
            "phone": { "type": "string" },
            "website": { "type": "string", "format": "uri" }
          }
        }
      }
    }
  }
}
